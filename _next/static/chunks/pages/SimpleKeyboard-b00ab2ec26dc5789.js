(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[357],{5762:function(e,l,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/SimpleKeyboard",function(){return n(6801)}])},6801:function(e,l,n){"use strict";n.r(l),n.d(l,{default:function(){return o}});var t=n(5893),s=n(7294),r=n(3727),c=n.n(r);n(4619);let a="COLOR";function o(){let e=(0,s.useRef)(null),l=a.length,[n,r]=(0,s.useState)(!1),[o,i]=(0,s.useState)([]),[d,u]=(0,s.useState)([]),[h,p]=(0,s.useState)(0),m=async e=>{let l=await fetch("/cleaned_word_list.txt"),n=await l.text(),t=n.split("\n"),s=t.map(e=>e.toLowerCase());return s.includes(e.toLowerCase())},x=e=>{console.log("Button pressed",e),"{enter}"===e?f("Enter"):"{backspaceSymbol}"===e?f("Backspace"):f(e)},g=()=>{r(!1),i([]),p(0),u([]),e.current.clearInput()},f=async e=>{if("Backspace"===e)i(o.slice(0,-1));else if("Enter"===e){if(o.length===l){let e=o.join(""),l=m(e),n=o.map((l,n)=>{if(a[n]===l)return{letter:l,color:"green"};if(!a.includes(l))return{letter:l,color:"red"};{let t=a.split("").filter(e=>e===l).length,s=o.slice(0,n+1).filter(e=>e===l).length,r=a.split("").filter((n,t)=>n===l&&n===e[t]).length;return(console.log("numOccurrences",t),console.log("numTypedOccurrences",s),console.log("numGreenOccurrences",r),s<=t-r)?{letter:l,color:"yellow"}:{letter:l,color:"red"}}});await l?(u([...d,n]),i([]),n.every(e=>"green"===e.color)?r(!0):p(h+1)):(u([...d,n.map(e=>({...e,color:"black"}))]),i([]),p(h+1))}else r(!0)}else o.length<l&&i([...o,e])},v=(0,s.useCallback)(e=>{let{key:l}=e;if(/^[a-zA-Z]$/.test(l)){let e=l.toUpperCase();f(e)}else"Enter"===l?f("Enter"):"Backspace"===l&&f("Backspace")},[o]);return(0,s.useEffect)(()=>(document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}),[v]),(0,t.jsxs)("div",{className:"keyboard-container",children:[(0,t.jsxs)("div",{className:"box-container",children:[d.map((e,l)=>(0,t.jsx)("div",{className:"row",children:e.map((e,l)=>(0,t.jsx)("div",{className:"box ".concat(e.color),children:" "===e.letter?"\xa0":e.letter},l))},l)),(0,t.jsxs)("div",{className:"row",children:[o.map((e,l)=>(0,t.jsx)("div",{className:"box",children:e},l)),Array(l-o.length).fill(null).map((e,l)=>(0,t.jsx)("div",{className:"box",children:" "},l+o.length))]})]}),(0,t.jsx)("div",{className:"virtual-keyboard",children:(0,t.jsx)(c(),{keyboardRef:l=>e.current=l,layout:{default:["Q W E R T Y U I O P","A S D F G H J K L","{enter} Z X C V B N M {backspaceSymbol}"]},display:{"{enter}":"ENTER","{backspaceSymbol}":"âŒ«"},onKeyPress:x})}),n&&(0,t.jsxs)("div",{className:"dialog",children:[d.length>0&&(0,t.jsxs)("div",{className:"dialog-content",children:[d[d.length-1].map((e,l)=>(0,t.jsx)("div",{className:"dialog-box ".concat(e.color),children:" "===e.letter?"\xa0":e.letter},l)),!m(o.join(""))&&(0,t.jsxs)("p",{children:[o.join("")," is not a valid word."]}),d[d.length-1].every(e=>"green"===e.color)&&(0,t.jsxs)("p",{children:["Solved in ",h," attempt(s)."]}),(0,t.jsx)("button",{onClick:g,children:"Close"})]}),0===d.length&&(0,t.jsxs)("div",{className:"dialog-content",children:[(0,t.jsxs)("p",{children:["Type a word with ",l," letters and press Enter to start."]}),(0,t.jsx)("button",{onClick:g,children:"Close"})]})]}),(n||n&&0===d.length)&&(0,t.jsx)("div",{className:"overlay"}),n&&d.length>0&&d[d.length-1].every(e=>"green"===e.color)&&(0,t.jsx)("div",{className:"overlay"})]})}}},function(e){e.O(0,[120,774,888,179],function(){return e(e.s=5762)}),_N_E=e.O()}]);