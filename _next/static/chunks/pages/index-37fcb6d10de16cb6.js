(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(2603)}])},6801:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var l=s(5893),n=s(7294),a=s(3727),r=s.n(a);s(4619);let c="COLOR";function i(){let e=(0,n.useRef)(null),t=c.length,[s,a]=(0,n.useState)("IN_PROGRESS"),[i,o]=(0,n.useState)(!1),[u,d]=(0,n.useState)(!1),[f,m]=(0,n.useState)([]),[h,p]=(0,n.useState)([]),[x,N]=(0,n.useState)(0),b=async e=>{let t=await fetch("/cleaned_word_list.txt"),s=await t.text(),l=s.split("\n"),n=l.map(e=>e.toLowerCase());return n.includes(e.toLowerCase())},v=e=>{console.log("Button pressed",e),"{enter}"===e?j("Enter"):"{backspaceSymbol}"===e?j("Backspace"):j(e)},w=()=>{d(!1)},j=async e=>{if("WIN"!==s){if("Backspace"===e)m(f.slice(0,-1));else if("Enter"===e){if(f.length===t){let e=f.join(""),t=b(e),s=f.map((t,s)=>{if(c[s]===t)return{letter:t,color:"green"};if(!c.includes(t))return{letter:t,color:"red"};{let l=c.split("").filter(e=>e===t).length,n=f.slice(0,s).filter(e=>e===t).length,a=c.split("").filter((s,l)=>s===t&&s===e[l]).length,r=c.split("").slice(0,s).filter((s,l)=>s===t&&s===e[l]).length;return n-r<l-a?{letter:t,color:"yellow"}:{letter:t,color:"red"}}});N(x+1),await t?(p([...h,s]),m([]),s.every(e=>"green"===e.color)&&(a("WIN"),d(!0))):(p([...h,s.map(e=>({...e,color:"black"}))]),m([]))}else o(!0)}else f.length<t&&m([...f,e])}},k=(0,n.useCallback)(e=>{let{key:t}=e;if(/^[a-zA-Z]$/.test(t)){let e=t.toUpperCase();j(e)}else"Enter"===t?j("Enter"):"Backspace"===t&&j("Backspace")},[f]);return(0,n.useEffect)(()=>(document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}),[k]),(0,l.jsxs)("div",{className:"keyboard-container",children:[(0,l.jsxs)("div",{className:"box-container",children:[h.map((e,t)=>(0,l.jsx)("div",{className:"row",children:e.map((e,t)=>(0,l.jsx)("div",{className:"box ".concat(e.color),children:" "===e.letter?"\xa0":e.letter},t))},t)),(0,l.jsxs)("div",{className:"row",children:[f.map((e,t)=>(0,l.jsx)("div",{className:"box",children:e},t)),"IN_PROGRESS"===s?(0,l.jsx)(l.Fragment,{children:Array(t-f.length).fill(null).map((e,t)=>(0,l.jsx)("div",{className:"box",children:" "},t+f.length))}):null]})]}),(0,l.jsx)("div",{className:"virtual-keyboard",children:(0,l.jsx)(r(),{keyboardRef:t=>e.current=t,layout:{default:["Q W E R T Y U I O P","A S D F G H J K L","{enter} Z X C V B N M {backspaceSymbol}"]},display:{"{enter}":"ENTER","{backspaceSymbol}":"⌫"},onKeyPress:v})}),(0,l.jsx)(function(e){let{message:t,timeout:s=3e3}=e;return(0,n.useEffect)(()=>{let e=setTimeout(()=>{o(!1)},s);return()=>clearTimeout(e)},[s]),i?(0,l.jsx)("div",{className:"dialog-box",children:(0,l.jsx)("div",{className:"message",children:t})}):null},{message:"Too few letters!",timeout:1e3}),u&&(0,l.jsx)("div",{className:"win-dialog-box",children:(0,l.jsxs)("div",{className:"message",children:[(0,l.jsx)("button",{className:"close-button",onClick:w,children:"✕"})," ",(0,l.jsxs)("p",{children:["You win! Attempts: ",x]})]})})]})}},2603:function(e,t,s){"use strict";s.r(t);var l=s(5893);s(7294);var n=s(6801);let a=()=>(0,l.jsx)(n.default,{});t.default=a}},function(e){e.O(0,[120,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);